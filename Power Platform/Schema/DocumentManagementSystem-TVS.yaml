# ============================================
# CONSTRUCTION DOCUMENT APPROVAL SYSTEM
# SharePoint List Schema - Simplified Version
# Email-based for Power Automate compatibility
# ============================================

# ============================================
# MASTER DATA
# ============================================

Site:
  # Identification
  ID: Existing Field # Auto-increment (Primary Key)
  No: Text # Auto Generated based on No Series Prifix Setup.
  Name: Text # Required
  
  # Location & Size
  Location Code: Text
  Area Unit: Choice # Options: SqFt, SqM, Acres, Hectares
  Area Size: Number
  
  # Ownership
  Owner Email ID: Text # Email address
  Additional Owner Email ID: Text # Email address
  
  # Status
  Status: Choice # Options: Draft, Active, On Hold, Closed
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================

Project:
  # Identification
  ID: Existing Field # Auto-increment (Primary Key)
  No: Text # Auto Generated based on No Series Prifix Setup.
  Name: Text # Required
  
  # Relationships
  Site ID: Lookup (to Site) # Required
  Template ID: Lookup (to Project Doc Template Header)
  
  # Project Details
  Area Unit: Choice # Options: SqFt, SqM, Acres, Hectares
  Area Size: Number
  
  # Ownership
  Owner Email ID: Text # Email address - Project Manager
  Additional Owner Email ID: Text # Email address - Co-manager
  Requestor Email ID: Text # Email address - Project initiator
  
  # Status
  Status: Choice # Options: Draft, Pending Approval, Approved, Active, Rejected, Closed
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================
# DOCUMENT MANAGEMENT
# ============================================

Project Folder Line:
  # Identification
  ID: Existing Field # Auto-increment (Primary Key)
 
  # Relationships
  Project ID: Lookup (to Project) # Required
  Parent Folder ID: Lookup (to Project Folder Line) # For nested folders, Optional
  
  # Folder Details
  Folder Name: Text # Required
  Folder Level: Number # 1 for root, 2 for sub-folder, etc.
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================

Project Document Line:
  # Identification
  ID: Existing Field # Auto-increment (Primary Key)
  
  # Relationships
  Project ID: Lookup (to Project) # Required
  Project Folder ID: Lookup (to Project Folder Line) # Required
  
  # Document Details
  File Name: Text # Required
  
  # Version Control
  Version: Number # Default: 1
  Latest Version: Boolean # Default: Yes
  
  # Status
  Status: Choice # Options: Draft, In Review, Pending Approval, Approved, Rejected
  
  # Upload Information
  Uploaded By Email ID: Text # Email address - Required
  Upload Date: DateTime
  
  # Modification Tracking
  Attachment Modified Date: DateTime # When file was last changed
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================
# APPROVAL WORKFLOW - TWO APPROVERS
# ============================================

Project Doc Approval Line:
  # Identification
  ID: Existing Field # Auto-increment (Primary Key)
  No: Text # Auto Generated based on No Series Prifix Setup.
  
  # Relationships
  Project ID: Lookup (to Project) # Required
  Document Line ID: Lookup (to Project Document Line) # Required
  
  # Approval Details
  Line No: Number # 1 or 2 (for first and second approver)
  Approver Email ID: Text # Email address - Required
  
  # Status & Response
  Status: Choice # Options: Pending, Approved, Rejected
  Response Date: DateTime
  Comment: Multiple Lines of Text
  
  # Dates
  Requested Date: DateTime
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================
# TEMPLATES
# ============================================

Project Doc Template Header:
  # Identification
  ID: Existing Field # Auto-increment (Primary Key)
  No: Text # SharePoint GUID
  
  # Template Details
  Title: Text # Required
  
  # Configuration
  Is Active: Boolean # Default: Yes
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================

Project Doc Template Line:
  # Identification
  ID: Counter # Auto-increment (Primary Key)
  System ID: Text # SharePoint GUID
  
  # Relationships
  Template ID: Lookup (to Project Doc Template Header) # Required
  Parent Folder ID: Lookup (to Project Doc Template Line) # For nested structure
  
  # Folder Details
  Folder Name: Text # Required
  Folder Level: Number # Hierarchy level
  Sort Order: Number # Display order
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================
# SYSTEM CONFIGURATION
# ============================================

Setup:
  # Identification
  ID: Counter # Primary Key (Should only have 1 record)
  
  # Number Series Configuration
  Site ID Prefix: Text # Default: "SITE-"
  Project ID Prefix: Text # Default: "PROJ-"
  Last Used Site No: Number # Default: 0
  Last Used Project No: Number # Default: 0
  
  # Audit Trail
  Created By: Text # Email address
  Created Date: DateTime
  Modified By: Text # Email address
  Modified Date: DateTime

# ============================================
# END OF SCHEMA
# ============================================
